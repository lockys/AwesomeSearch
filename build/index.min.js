$(document).ready(function(){function e(e,a){var t=e.split("/")[3],n=e.split("/")[4],o="https://raw.githubusercontent.com/"+t+"/"+n+"/master/README.md";return $.get(o).done(function(){a(o)}).fail(function(){o=o.replace("README","readme"),a(o)}),o}var a,t,n=!0,o=!1,r=!1,s={keys:["name","description","cate"]},c=$(".awesome-block"),i=$(".search-result"),l=$(".mui-dropdown__menu"),m=$(".mui-dropdown"),d=function(u,p){u.e&&(u.url=$(u.e.target).data("url"),u.name=$(u.e.target).data("name"),delete u.e),p&&window.history.pushState(u,"Awesome "+u.name,u.cate);var h,f=u.cate||"null";t=[],r="awesome"===f?1:0,c.addClass("content-hidden"),m.removeClass("content-hidden"),$.getJSON("https://raw.githubusercontent.com/lockys/awesome.json/master/output/"+f+".json",function(p){var w,v="awesome";if(h=p,n="awesome"!==f&&!0,c.html(""),i.html(""),"awesome"!==f){var b=u.url;v=u.name,w='<a class="back-button"><- Back to Awesome</a><br/><a href="'+b+'" target="_blank">-> Original Repo</a>',c.append(w)}return $(".cate").html(v),0===Object.keys(h).length?(n=!1,c.html("Retrieving repos..."),e(b,function(e){$.get(e,function(e){c.html(""),c.append(w),c.append(marked(e))})}),c.addClass("awesome-background"),c.removeClass("content-hidden"),void m.addClass("content-hidden")):(l.html(""),Object.keys(h).forEach(function(e){var a=e.replace(/\W/g,"").toLowerCase(),n='<h2 id="'+a+'">'+e+"</h2>";t=t.concat(h[e]),l.append('<li><a href="#'+a+'">'+e+"</a></li>"),c.append(n),h[e].forEach(function(e){var a=e.name.replace(/\W/g,"").toLowerCase(),t="",n="",o=e.description?" - "+e.description:"";r||(t=' href="'+e.url+'" '),n='<a class="mui-btn mui-btn--small mui-btn--primary '+a+'"'+t+'target="_blank" data-url="'+e.url+'" data-name="'+e.name+'"><span class="mui--text-white" data-url="'+e.url+'" data-name="'+e.name+'">'+e.name+'</span><span style="color: #7CF1F7" class="" data-url="'+e.url+'" data-name="'+e.name+'">'+o+"</span></a>",c.append(n)})}),a=new Fuse(t,s),$.getJSON("https://raw.githubusercontent.com/lockys/awesome.json/master/output/nameMap.json",function(e){for(var a=Object.keys(e),t=0,n=a.length;n>t;++t){var r=e[a[t]];!function(e){$("."+e).on("click",function(a){return o?!1:(o=!0,void d({cate:e,e:a},!0))})}(r)}c.removeClass("content-hidden")}),void(o=!1))})};d({cate:"awesome"}),window.history.replaceState({cate:"awesome"},"Awesome Search",""),$(".awesome-input").on("input",function(e){var t=$(this).val();c.addClass("content-hidden"),i.html(""),t||c.removeClass("content-hidden");for(var o=a.search(t),s="",l=0,m=o.length;m>l;++l)if(o[l]){var u=o[l].name.replace(/\W/g,"").toLowerCase(),p=' href="'+o[l].url+'" ';r&&(p=""),s=o[l].description?" - "+o[l].description+"</br>":"<br/>",n?(i.append('<a class="'+u+' search-repo-link"'+p+'data-url="'+o[l].url+'" data-name="'+o[l].name+'" target="_blank">'+o[l].name+"</a>"+s),function(e){$("."+e).off("click",function(a){d({cate:e,e:a},!0)})}(u)):(i.append('<span class="'+u+' search-repo-link"'+p+'data-url="'+o[l].url+'" data-name="'+o[l].name+'">'+o[l].name+"</span>"+s),function(e){$("."+e).on("click",function(a){d({cate:e,e:a},!0)})}(u))}}),$(window).on("popstate",function(e){var a=e.originalEvent.state;"awesome"==a.cate&&c.removeClass("awesome-background"),d(a)}),c.click(function(e){$(e.target).is(".back-button")&&(e.preventDefault(),window.history.back())}),$(".to-top-arrow").click(function(){return $("html, body").animate({scrollTop:0},600),!1})});