$(document).ready(function(){function a(a,e){var t=a.split("/")[3],n=a.split("/")[4],o="https://api.github.com/repos/"+t+"/"+n+"/readme";$.ajax({url:o,headers:{accept:"application/vnd.github.v3.html"},success:e})}var e,t,n=!0,o=!1,r=!1,s={keys:["name","description","cate"]},c=$(".awesome-block"),l=$(".search-result"),i=$(".mui-dropdown__menu"),u=$(".mui-dropdown"),m=function(p,d){var h;d=d||"null",t=[],r="awesome"===d?1:0,c.addClass("content-hidden"),u.removeClass("content-hidden"),$.getJSON("https://raw.githubusercontent.com/lockys/awesome.json/master/output/"+d+".json",function(u){var f,b="awesome";if(h=u,n="awesome"!==d&&!0,c.html(""),l.html(""),$(".alert").html(""),i.html(""),r)Object.keys(h).forEach(function(a){var e=a.replace(/\W/g,"").toLowerCase(),n='<h2 id="'+e+'">'+a+"</h2>";t=t.concat(h[a]),$(".cate").html(b),i.append('<li><a href="#'+e+'">'+a+"</a></li>"),c.append(n),h[a].forEach(function(a){var e=a.name.replace(/\W/g,"").toLowerCase(),t="",n="",o=a.description?" - "+a.description:"";r||(t=' href="'+a.url+'" '),n='<a class="mui-btn mui-btn--small mui-btn--primary '+e+'"'+t+'target="_blank" data-url="'+a.url+'" data-name="'+a.name+'"><span class="mui--text-white" data-url="'+a.url+'" data-name="'+a.name+'">'+a.name+'</span><span style="color: #7CF1F7" class="" data-url="'+a.url+'" data-name="'+a.name+'">'+o+"</span></a>",c.append(n)})}),$.getJSON("https://raw.githubusercontent.com/lockys/awesome.json/master/output/nameMap.json",function(a){for(var e=Object.keys(a),t=0,n=e.length;n>t;++t){var r=a[e[t]];!function(a){$("."+a).on("click",function(e){return o?!1:(o=!0,void m(e,a))})}(r)}c.removeClass("content-hidden awesome-background")});else{var g=$(p.target).data("url");if(b=$(p.target).data("name"),$(".cate").html(b),f='<a class="back-button"><- Back to Awesome</a><br/><a href="'+g+'" target="_blank">-> Original Repo</a>',c.html("Retrieving repo..."),a(g,function(a){c.html("").append(f).append(a);for(var e,t=$("h3 a, h2 a, h1 a"),n=0,o=t.length;o>n;++n)e=t[n].id.replace("user-content-",""),e&&i.append('<li><a href="#'+e+'">'+$(t[n]).parent("h2, h3, h1").text()+"</a></li>")}),c.addClass("awesome-background").removeClass("content-hidden"),0===Object.keys(h).length)return n=!1,void $(".alert").html('<span style="color: red;">This repo has not been parsing yet, so what you search is awesome repo</span><br/>');Object.keys(h).forEach(function(a){t=t.concat(h[a])})}e=new Fuse(t,s),o=!1})};m(null,"awesome"),$(".awesome-input").on("input",function(a){var t=$(this).val();c.addClass("content-hidden"),l.html(""),t||c.removeClass("content-hidden");for(var o=e.search(t),s="",i=0,u=o.length;u>i;++i)if(o[i]){var p=o[i].name.replace(/\W/g,"").toLowerCase(),d=' href="'+o[i].url+'" ';r&&(d=""),s=o[i].description?" - "+o[i].description+"</br>":"<br/>",n?(l.append('<a class="'+p+' search-repo-link"'+d+'data-url="'+o[i].url+'" data-name="'+o[i].name+'" target="_blank">'+o[i].name+"</a>"+s),function(a){$("."+a).off("click",function(e){m(e,a)})}(p)):(l.append('<span class="'+p+' search-repo-link"'+d+'data-url="'+o[i].url+'" data-name="'+o[i].name+'">'+o[i].name+"</span>"+s),function(a){$("."+a).on("click",function(e){m(e,a)})}(p))}}),c.click(function(a){$(a.target).is(".back-button")&&(a.preventDefault(),m(null,"awesome"))}),$(".to-top-arrow").click(function(){return $("html, body").animate({scrollTop:0},600),!1})});